sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/gantt/misc/Format","sap/gantt/misc/Utility","sap/ui/core/BusyIndicator","sap/ui/core/theming/Parameters","sap/gantt/config/TimeHorizon","sap/gantt/axistime/ProportionZoomStrategy","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox","sap/m/MessageToast","sap/ui/Device","sap/m/Popover","sap/m/Button","sap/m/library"],function(e,t,o,s,r,i,l,n,a,g,d,c,u,m,p,M,f){"use strict";return e.extend("sierra.pra.PRA_Custom.controller.business_associate",{onInit:function(){var e=this;this.globalModel=this.getOwnerComponent().getModel("globalModel");var t=new o(this.globalModel);console.log("omodel first ",t);t.setSizeLimit(500);this.getView().setModel(t,"oModel");console.log("oModel l",t);this.getOwnerComponent().getModel().read("/Business_AssociateSet",{success:function(o,s){e.aKeys=["CmpCode","Doi","DeckType"];e.oSelectName=e.getSelect("slName");e.oSelectCategory=e.getSelect("slCategory");e.oSelectSupplierName=e.getSelect("slDOIType");t.setProperty("/Filter/text","Filtered by None");e.addSnappedLabel();var r=e.getView().byId("filterbar");if(r){r.variantsInitialized()}},error:function(e){debugger}});this.getOwnerComponent().getModel().read("/SE_CMP_CODESet",{success:function(t,o){e.globalModel.companyCode=t.results;console.log("company code",e.globalModel.companyCode);e.getView().getModel("oModel").refresh()},error:function(e){}});this.getOwnerComponent().getModel().read("/SE_BANUMBERSet",{success:function(t,o){e.globalModel.wellIdList=t.results;e.getView().getModel("oModel").refresh()},error:function(e){}});this.getOwnerComponent().getModel().read("/owner_detailsSet",{success:function(t,o){e.globalModel.ventureList=t.results;e.getView().getModel("oModel").refresh()},error:function(e){}})},onPressBAFilter:function(e,t){var o=this.getView().byId("slBaNumber").getSelectedItem().mProperties.text;var s=this.getView().byId("Name1").getSelectedItem().mProperties.text;var r=this;var i=[new g("BaNumber",d.EQ,o)];this.getOwnerComponent().getModel().read("/Business_AssociateSet",{filters:i,success:function(e,t){r.globalModel.businessPartnerData=e.results;debugger;r.getView().getModel("oModel").refresh()},error:function(e){c.error("Error in getting Business Partner Details - Please check with your System Admin")}})}})});